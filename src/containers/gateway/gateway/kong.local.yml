_format_version: "2.1"
_transform: true

services:
  - name: adapter
    url: http://host.docker.internal:8085
    routes:
      - name: adapter
        paths:
          - /camel
        strip_path: false
        methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS

  - name: backend-vacature-bemiddelaar
    url: http://host.docker.internal:8089
    routes:
      - name: backend-vacature-bemiddelaar
        paths:
          - /aanvraagvacature
        strip_path: false
  - name: backend-vacature-bron
    url: http://host.docker.internal:8087
    routes:
      - name: backend-vacature-bron
        paths:
          - /vacature
        strip_path: false
  - name: backend-werkzoekende-bron
    url: http://host.docker.internal:8086
    routes:
      - name: backend-werkzoekende-bron
        paths:
          - /werkzoekende
        strip_path: false
  - name: werkzoekende-bemiddelaar
    url: http://host.docker.internal:8088
    routes:
      - name: werkzoekende-bemiddelaar
        paths:
          - /aanvraagwerkzoekende
        strip_path: false

plugins:
- name: cors
  config: 
    origins:
    - '*'
    headers:
    - Accept
    - Accept-Version
    - Content-Length
    - Content-MD5
    - Content-Type
    - Date
    - X-Auth-Token
    - Authorization
    methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
    exposed_headers:
    - X-Auth-Token
    credentials: true
    max_age: 3600
    preflight_continue: true